# 软件设计基础

## 什么是软件设计

> 讨论

* 什么是软件设计
* 为什么要做设计
    * 软件设计与编程是什么关系
    * 需求分析与软件设计师什么关系
* 怎么做设计


### 软件设计思想的发展

### 软件设计的核心思想

#### 为什么要设计
+ 事物的复杂性vs思维的有限性
  + 7+-2规则
  + 关注点分离与层次性

#### 设计的复杂度
+ 事物的复杂度 vs 载体的复杂度
    + 对外表现 与 内部结构
* 设计复杂度 = 事物复杂度 + 载体与事物的适配复杂度




### 理解软件设计



## 软件设计的分层

### 低层设计
* 将基本的语言单位（类型与语句），组织起来，简历高质量的数据结构+算法
* 常见设计场景：
    * 数组的使用，链表的使用，内存的使用，遍历算法，递归算法....
* 节点场景：
    * 堆栈，队列，树，排序算法，查找算法...
* 数据结构与算法审美：
    * 简洁、结构清晰，坚固（可靠、高效、易读）
    * 数据结构与算法
    * 计算机程序设计艺术

#### 低层设计的本质

+ 屏蔽程序中复杂数据结构与算法的实现细节


<table>
    <tr>
        <td>抽象层接口</td>
        <td>数据结构的含义与使用</td>
        <td>算法的语义与复杂度</td>
    </tr>
    <tr>
        <td>精华层实现层</td>
        <td>
            <p>结构的类型定义</p>
            存储空间的使用与更改
        </td>
        <td>
            书写控制语句
            <p>分支的处理技巧</p>
            对数据的操纵
        </td>
    </tr>
<table>


#### 低层设计：代码设计
+ 对一个方法、函数的内部代码进行设计
+ 又被成为软件构造，通常有程序员独立完成
+ 依赖于语言提供的机制
    + OO or Structural
    + Reference or Address Point
    + ...

#### 模块划分
+ 1970s
    + 函数的成熟与模块的出现
+ 模块划分
    + 将系系统分层简单片段
        + 片段有名称，可以被反复使用
+ 名字和使用方法称为模块的抽象与接口
+ 模块内部的程序片段为精化与实现

### 中层设计
#### 中层设计开始

+ 模块划分隐藏一些程序片段（数据结构加算法）的细节，暴露接口与外界

<table>
    <tr>
        <td>抽象层<p>接口层</p></td>
        <td colspan="3">
            模块接口
        </td>
    </tr>
    <tr>
        <td rowspan="2">精化层<p>实现层</p></td>
        <td>抽象层<p>接口层</p></td>
        <td>数据结构的含义与使用</td>
        <td>算法的语义与复杂度</td>
    </tr>
    <tr>
        <td>精化层<p>实现层</p></td>
        <td>结构的类型定义<p>存储空间的使用与更改</p></td>
        <td>书写控制语句<p>分支的处理技巧</p>对数据的操纵</td>
    </tr>
<table>

#### 模块化的目标
+ 完全独立有助于
    + 理解
    + 使用与复用
    + 开发
    + 修改

#### 模块化的问题与困难

* 程序片段之间不可能是完全独立的
* 方法：实现尽可能的独立
    * 模块化
    * 信息隐藏
    * 抽象数据类型
    * 封装
    * ...

#### 中层设计总结-设计目标
+ 最终审美目标：简洁性、结构清晰、一致性、质量（可修改、易开发（易理解、易测试、易调试）、易复用）
+ 直接评价标准：模块化；信息隐藏；OO原则

<table>
    <tr  style="font-weight:bold">
        <td>抽象层<p>接口层</p></td>
        <td colspan="3"  style="text-align: center">
            对象、模块
        </td>
    </tr>
    <tr>
        <td rowspan="2"  style="font-weight:bold">精化层<p>实现层</p></td>
        <td>抽象层<p>接口层</p></td>
        <td>数据结构的含义与使用</td>
        <td>算法的语义与复杂度</td>
    </tr>
    <tr>
        <td>精化层<p>实现层</p></td>
        <td>结构的类型定义<p>存储空间的使用与更改</p></td>
        <td>书写控制语句<p>分支的处理技巧</p>对数据的操纵</td>
    </tr>
<table>

#### 中低层设计的问题
+ 《Programming-in-the-SmallVSProgramming-in-the-Large》
+ 过于依赖细节
    + 连接与依赖，接口与实现
+ 忽略的关键因素：无法有效抽象部件的整体特性
    + 总体结构
    + 质量属性

### 高层设计：体系结构
+ 部件承载了系统主要的计算与状态
+ 连接件承载部件之间的交互
+ 部件与连接件都是抽象的类型定义（就像类定义），它们的实例（就像类的对象实例）组织都成软件系统的整体结构，配置将它们的实例连接起来
+ 连接件是一个部件平等的单位


#### 敏捷视点
* 只有高层设计良好，底层设计才能良好
* 只有写完并测试代码之后，才能算是完成了设计
* 源代码可能是主要的设计文档，但它通常不是唯一一个必须的

## 软件设计过程、方法和模型、描述



### 软件设计过程的主要活动
> 待完善
分析设计的需求 => 建立设计模型=>生成候选方案=>评审
### 软件设计的方法和模型
#### 设计的方法

+ 软件设计的方法可以分为以下几种[SWEBOK2004]:
    + 结构化设计方法
    + 面向对象设计
    + 数据为中心设计
    + 基于构件的设计
    + 形式化方法设计

#### 静态模型vs动态模型
+ 描述软件设计的模型，通常可以分为两类：
    + 静态模型
        + 静态模型是通过快照的方式对系统中是不变的属性进行描述。通常描述的是状态，而不是行为。
            + 比如：一个数字的列表是按大小排序好的
    + 动态模型
        + 动态模型通常描述的是系统行为和状态转移
            + 比如：排序的过程中如何进行排序的

#### 结构化设计模型和面向对象设计模型

+ 在结构化设计中
    + 静态模型
        + 实体关系图
    + 动态模型
        + 数据流图和结构图
+ 在面向对象设计中
    + 静态模型
        + 类图、对象图、构件图、部署图
    + 动态模型
        + 交互图（顺序图和通信图）、状态图、活动图等


### 软件设计的描述
#### 软件设计描述规范
+ 早在1998年，IEEE组织就提出了IEEE1060-1998号标准[IEEE1060-1998]以规范软件设计的文档化描述
+ 在2009年3月，IEE-SA标准委员会修订了1060 号标准[IEEE1060-2009]。IEEE的标准并没有限定设计描述文档的具体结构，而是通过解释一系列概念说明了软件设计描述文档应该遵循的思路和基本内容。

#### 软件设计模型

> 待完善

#### 利益相关者
> 待完善
#### 设计文档书写要点
+ 充分利用标准的文档模板，根据项目特点进行适当的剪裁
+ 可以利用体系结构风格的图，让读者更容易把握高层抽象
+ 利用完整的接口规格说明定义模块与模块之间的交互
+ 在设计文档中应体现对于变更的灵活性